{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useHTTPRequest = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const taskHandler = async taskText => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('https://react-http-post-project-default-rtdb.firebaseio.com/tasks.json');\n      if (!response.ok) {\n        throw new Error('Request Failed!');\n      }\n      const data = response.json();\n      const loadedTasks = [];\n      for (const key in data) {\n        loadedTasks.push({\n          id: key,\n          text: data[key].text\n        });\n      }\n      setTasks(loadedTasks);\n    } catch (err) {\n      setError(err.message || 'Something went wrong!');\n    }\n    setIsLoading(false);\n  };\n  taskHandler();\n  return isLoading, error, tasks;\n};\n_s(useHTTPRequest, \"n5SlQVdc2sZg3OeT00ajYzBfpL0=\");\nexport default useHTTPRequest;","map":{"version":3,"names":["useState","useHTTPRequest","isLoading","setIsLoading","error","setError","tasks","setTasks","taskHandler","taskText","response","fetch","ok","Error","data","json","loadedTasks","key","push","id","text","err","message"],"sources":["/Users/seanclark/code/SirClarkalot/udemy_react_course/15_building_custom_react_hooks/04-onwards-to-a-more-realistic-example/src/Hooks/use-http-request.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst useHTTPRequest = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [tasks, setTasks] = useState([]);\n\n  const taskHandler = async (taskText) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        'https://react-http-post-project-default-rtdb.firebaseio.com/tasks.json'\n      );\n\n      if (!response.ok) {\n        throw new Error('Request Failed!');\n      }\n\n      const data = response.json();\n\n      const loadedTasks = [];\n\n      for (const key in data) {\n        loadedTasks.push({id: key, text: data[key].text});\n      }\n\n      setTasks(loadedTasks);\n\n    } catch (err) {\n      setError(err.message || 'Something went wrong!');\n    }\n    setIsLoading(false)\n    }\n    taskHandler();\n    return (isLoading, error, tasks)\n  };\n\nexport default useHTTPRequest\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,cAAc,GAAG,MAAM;EAAA;EAC3B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGH,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMQ,WAAW,GAAG,MAAOC,QAAQ,IAAK;IACtCN,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAC1B,wEAAwE,CACzE;MAED,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;MACpC;MAEA,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,IAAI,EAAE;MAE5B,MAAMC,WAAW,GAAG,EAAE;MAEtB,KAAK,MAAMC,GAAG,IAAIH,IAAI,EAAE;QACtBE,WAAW,CAACE,IAAI,CAAC;UAACC,EAAE,EAAEF,GAAG;UAAEG,IAAI,EAAEN,IAAI,CAACG,GAAG,CAAC,CAACG;QAAI,CAAC,CAAC;MACnD;MAEAb,QAAQ,CAACS,WAAW,CAAC;IAEvB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZhB,QAAQ,CAACgB,GAAG,CAACC,OAAO,IAAI,uBAAuB,CAAC;IAClD;IACAnB,YAAY,CAAC,KAAK,CAAC;EACnB,CAAC;EACDK,WAAW,EAAE;EACb,OAAQN,SAAS,EAAEE,KAAK,EAAEE,KAAK;AACjC,CAAC;AAAC,GAlCEL,cAAc;AAoCpB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}